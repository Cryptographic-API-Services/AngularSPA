<div class="row">
  <div class="col-4">
    <form [formGroup]="userNameForm" (submit)="newUsernameSubmit()">
      <div class="mb-3">
        <label for="newusername-input" class="form-label">New Username</label>
        <div class="input-group">
          <input type="text" class="form-control" id="newusername-input" formControlName="username">
          @if (userNameForm.get('username')?.valid) {
            <span class="input-group-text fa-check-success" id="inputGroupPrepend">
              <i class="fa fa-check" aria-hidden="true"></i>
            </span>
          }
        </div>
      </div>
      @if (!isNewUsernameSubmitted) {
        <button type="button" class="btn btn-primary" (click)="newUsernameSubmit()">Submit</button>
      }
      @if (isNewUsernameSubmitted) {
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      }
    </form>
  </div>
</div>
<br />
<div class="row">
  <div class="col-4">
    <form [formGroup]="userPasswordForm" (submit)="submitNewPasswordForm()">
      <div class="mb-3">
        <label for="newPassword-input" class="form-label">New Password</label>
        <div class="input-group">
          <input type="text" class="form-control" id="newpassword-input" formControlName="newPassword">
          @if (userPasswordForm.get('newPassword')?.valid) {
            <span class="input-group-text fa-check-success" id="inputGroupPrepend">
              <i class="fa fa-check" aria-hidden="true"></i>
            </span>
          }
        </div>
      </div>
      <div class="mb-3">
        <label for="confirm-new-password-input" class="form-label">Confirm New Password</label>
        <div class="input-group">
          <input type="text" class="form-control" id="confirm-new-password-input" formControlName="confirmNewPassword">
          @if (userPasswordForm.get('confirmNewPassword')?.valid && userPasswordForm.get('confirmNewPassword')?.value === userPasswordForm.get('newPassword')?.value) {
            <span class="input-group-text fa-check-success" id="inputGroupPrepend">
              <i class="fa fa-check" aria-hidden="true"></i>
            </span>
          }
        </div>
      </div>
      <div class="mb-3">
        <label for="current-password-input" class="form-label">Current Password</label>
        <div class="input-group">
          <input type="text" class="form-control" id="current-password-input" formControlName="currentPassword">
          @if (userPasswordForm.get('currentPassword')?.valid && userPasswordForm.get('currentPassword')?.value !== userPasswordForm.get('newPassword')?.value) {
            <span class="input-group-text fa-check-success" id="inputGroupPrepend">
              <i class="fa fa-check" aria-hidden="true"></i>
            </span>
          }
        </div>
      </div>
      @if (!isNewPasswordSubmitted) {
        <button type="button" class="btn btn-primary" (click)="submitNewPasswordForm()">Submit</button>
      }
      @if (isNewPasswordSubmitted) {
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      }
    </form>
  </div>
</div>
<br />
<div class="row">
  <div class="col-4">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" [checked]="two2FAEnabled" (change)="handle2FAChange($event)">
      <label class="form-check-label" for="flexCheckDefault">
        2FA Enabled (Email)
      </label>
    </div>
  </div>
</div>